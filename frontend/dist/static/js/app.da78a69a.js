(function(e){function t(t){for(var r,n,c=t[0],s=t[1],l=t[2],u=0,g=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&g.push(i[n][0]),i[n]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);p&&p(t);while(g.length)g.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,n=1;n<a.length;n++){var c=a[n];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},i={app:0},o=[];function c(e){return s.p+"static/js/"+({"article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste":"article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste",articlelist:"articlelist","article~createArticle~login~mypage~passwordChange~search~signup":"article~createArticle~login~mypage~passwordChange~search~signup","article~createArticle~mypage~notifications~search":"article~createArticle~mypage~notifications~search","article~createArticle~search":"article~createArticle~search",article:"article",createArticle:"createArticle",search:"search",mypage:"mypage",login:"login","passwordChange~signup":"passwordChange~signup",passwordChange:"passwordChange",signup:"signup",home:"home",taste:"taste",notifications:"notifications"}[e]||e)+"."+{"article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste":"5915139c",articlelist:"8997921c","article~createArticle~login~mypage~passwordChange~search~signup":"b859455a","article~createArticle~mypage~notifications~search":"dd853059","article~createArticle~search":"59bbc550",article:"ad9e8b01",createArticle:"3989021e",search:"93243886",mypage:"9224ee55",login:"a85e8723","passwordChange~signup":"8ac3e529",passwordChange:"1cf6b17b",signup:"f4978c71",home:"5ad30544",taste:"7c65afdc",notifications:"3dbb9b56"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a={"article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste":1,articlelist:1,"article~createArticle~login~mypage~passwordChange~search~signup":1,"article~createArticle~mypage~notifications~search":1,"article~createArticle~search":1,article:1,createArticle:1,search:1,mypage:1,login:1,"passwordChange~signup":1,signup:1,home:1,taste:1,notifications:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var r="static/css/"+({"article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste":"article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste",articlelist:"articlelist","article~createArticle~login~mypage~passwordChange~search~signup":"article~createArticle~login~mypage~passwordChange~search~signup","article~createArticle~mypage~notifications~search":"article~createArticle~mypage~notifications~search","article~createArticle~search":"article~createArticle~search",article:"article",createArticle:"createArticle",search:"search",mypage:"mypage",login:"login","passwordChange~signup":"passwordChange~signup",passwordChange:"passwordChange",signup:"signup",home:"home",taste:"taste",notifications:"notifications"}[e]||e)+"."+{"article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste":"17f4035a",articlelist:"a329e865","article~createArticle~login~mypage~passwordChange~search~signup":"7638bb48","article~createArticle~mypage~notifications~search":"c9184e05","article~createArticle~search":"cd68f5c1",article:"6917490c",createArticle:"81d9a32c",search:"85e964b6",mypage:"06bca4aa",login:"178652d0","passwordChange~signup":"85e964b6",passwordChange:"31d6cfe0",signup:"5b5dffac",home:"3699aaba",taste:"3699aaba",notifications:"96db1a85"}[e]+".css",i=s.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var l=o[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===i))return t()}var g=document.getElementsByTagName("style");for(c=0;c<g.length;c++){l=g[c],u=l.getAttribute("data-href");if(u===r||u===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete n[e],p.parentNode.removeChild(p),a(o)},p.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){n[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,a){r=i[e]=[t,a]}));t.push(r[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=c(e);var g=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(p);var a=i[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;g.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",g.name="ChunkLoadError",g.type=r,g.request=n,a[1](g)}i[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var g=0;g<l.length;g++)t(l[g]);var p=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[!e.isSearch&&e.isLogin?a("v-app-bar",{staticClass:"mx-auto",attrs:{app:"",color:"indigo",dark:"","max-width":"600","min-width":"300","elevate-on-scroll":""}},[e.canBack?a("v-btn",{staticClass:"mx-auto",attrs:{icon:""},on:{click:function(t){return e.$router.go(-1)}}},[a("v-icon",[e._v("mdi-history")])],1):a("v-btn",{staticClass:"mx-auto",attrs:{icon:"",disabled:""}},[a("v-icon",[e._v("mdi-history")])],1),a("div",{staticClass:"mx-auto",attrs:{icon:""}},[a("v-icon",[e._v("D L I N K")])],1),a("v-btn",{staticClass:"mx-auto",attrs:{icon:"",router:"",to:{name:"notifications"}}},[a("v-badge",{attrs:{color:"red",left:"",overlap:""}},[a("span",{attrs:{slot:"badge"},slot:"badge"},[e._v("3")]),a("v-icon",[e._v("mdi-mail")])],1)],1)],1):e._e(),a("v-main",[a("router-view")],1),a("v-footer",{staticClass:"pa-0",staticStyle:{"background-color":"transparent"},attrs:{app:""}},[e.isLogin?a("v-bottom-navigation",{staticClass:"mx-auto",attrs:{grow:"",color:"teal",dark:"","max-width":"600","min-width":"300"}},[a("v-btn",{attrs:{icon:"",router:"",to:{name:"articlelist"}}},[e._v(" 홈 "),a("v-icon",[e._v("mdi-home")])],1),a("v-btn",{attrs:{icon:"",router:"",to:{name:"search"}}},[e._v(" 검색 "),a("v-icon",[e._v("mdi-magnify")])],1),a("v-btn",{attrs:{"prepend-icon":"mdi-plus",icon:"",router:"",to:{name:"createArticle"}}},[e._v(" 업로드 "),a("v-icon",[e._v("mdi-plus")])],1),a("v-btn",{attrs:{icon:""}},[e._v(" 컨텐츠 "),a("v-icon",[e._v("mdi-dialpad")])],1),a("v-btn",{attrs:{icon:"",router:"",to:{name:"mypage"}}},[e._v(" 마이페이지 "),a("v-icon",[e._v("mdi-account")])],1)],1):e._e()],1)],1)},i=[],o=(a("b0c0"),a("5530")),c=a("2f62"),s={props:{source:String},data:function(){return{drawer:null,canBack:!0,isSearch:!1}},computed:Object(o["a"])({},Object(c["d"])(["isLogin"])),beforeUpdate:function(){this.canBack=!0;var e=this.$router.history.current.name,t=this.$router.options.routes;if(console.log(this.$router.history.current.name),"search"===this.$router.history.current.name)this.isSearch=!0;else{this.isSearch=!1;for(var a=0;a<6;a++)if(t[a].name===e)return void(this.canBack=!1)}}},l=s,u=a("2877"),g=a("6544"),p=a.n(g),h=a("7496"),m=a("40dc"),d=a("4ca6"),f=a("b81c"),v=a("8336"),b=a("553a"),y=a("132d"),A=a("f6c4"),w=Object(u["a"])(l,n,i,!1,null,null,null),C=w.exports;p()(w,{VApp:h["a"],VAppBar:m["a"],VBadge:d["a"],VBottomNavigation:f["a"],VBtn:v["a"],VFooter:b["a"],VIcon:y["a"],VMain:A["a"]});a("d3b7");var k=a("8c4f"),S=a("c21c");r["a"].use(c["a"]);var _=new c["a"].Store({state:{userInfo:null,isLogin:!1,isLoginError:!1,items:[],item:{},alarms:[],socket:null},getters:{userId:function(e){return e.userInfo.pk},userName:function(e){return e.userInfo.username},items:function(e){return e.items},item:function(e){return e.item},alarms:function(e){return e.alarms}},mutations:{loginSuccess:function(e,t){e.isLogin=!0,e.isLoginError=!1,e.userInfo=t},loginError:function(e){e.isLogin=!1,e.isLoginError=!0},logout:function(e){e.isLogin=!1,e.isLoginError=!1,e.userInfo=null,localStorage.removeItem("token")},setItems:function(e,t){e.items=t},setItem:function(e,t){e.item=t},addAlarm:function(e,t){e.alarms.push(t)},setSocket:function(e,t){e.socket=t},removeSocket:function(e){e.socket=null}},actions:{login:function(e,t){var a=this,r=(e.dispatch,e.commit);S["a"].post("/login/",t).then((function(e){var t=e.data.key;localStorage.setItem("token",t),a.dispatch("getUserInfo");var n=new WebSocket("ws://127.0.0.1:8000/ws/test/".concat(t));n.onmessage=function(e){console.log(e);var t=JSON.parse(e.data),a=t["message"];console.log(a),r("addAlarm",a)},n.onopen=function(e){console.log(e),r("setSocket",n)},n.onclose=function(e){console.log(e)}})).catch((function(e){console.log(e),alert("이메일과 비밀번호를 확인하세요.")}))},logout:function(e){var t=e.commit;t("logout");var a=this.state.socket;a&&(a.close(),t("removeSocket")),O.push({name:"home"}).catch((function(e){if("NavigationDuplicated"!=e.name)throw e}))},getUserInfo:function(e){var t=e.commit,a=localStorage.getItem("token"),r={headers:{Authorization:"Token ".concat(a)}},n="";S["a"].post("/accounts/user/",n,r).then((function(e){console.log(e);var a={pk:e.data.id,username:e.data.username,email:e.data.email,first_name:e.data.first_name,last_name:e.data.last_name,taste1:e.data.taste1,taste2:e.data.taste2};t("loginSuccess",a),null===a.taste1||null===a.taste2?(alert("주류 취향을 선택하고 d-link를 이용해주세요!"),O.push({name:"taste",params:{username:a.username}})):O.push("articlelist")})).catch((function(e){console.log(e)}))},getArticles:function(e,t){var a=localStorage.getItem("token"),r={headers:{Authorization:"Token ".concat(a)}};S["a"].get(t,r).then((function(t){e.commit("setItems",t.data)})).catch((function(){alert("에러가 발생했습니다.")}))},getArticle:function(e,t){var a=localStorage.getItem("token"),r={headers:{Authorization:"Token ".concat(a)}};S["a"].get(t,r).then((function(t){console.log(t),e.commit("setItem",t.data)})).catch((function(){alert("에러가 발생했습니다.")}))},doScrap:function(e,t){var a=this,r=localStorage.getItem("token"),n={headers:{Authorization:"Token ".concat(r)}};S["a"].get(t.url,n).then((function(e){console.log(e),console.log(t.url),"articlelist"==t.page?a.dispatch("getArticles","/articles"):"article"==t.page&&a.dispatch("getArticle","/articles/".concat(t.id))})).catch((function(e){console.log(e),alert("에러가 발생했습니다.")}))},googleLogin:function(e,t){var a=this;S["a"].post("/accounts/google/",{code:t,redirect_uri:"postmessage"}).then((function(e){console.log(e);var t=e.data.key;localStorage.setItem("token",t),a.dispatch("getUserInfo")})).catch((function(e){console.log(e)}))},kakaoLogin:function(e,t){S["a"].post("/accounts/kakao/",{token:t,redirect_uri:"http://127.0.0.1:8000/accounts/kakao/callback/"}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},sendAlarm:function(e,t){localStorage.getItem("token");var a={headers:{"X-CSRFToken":"token","Content-Type":"application/json"}},r={message:"".concat(this.state.userInfo.username,"님이 스크랩을 했어요!"),article_user_id:t.articleUserId,request_user_id:t.requestUserId};S["a"].post(t.url,r,a).then((function(e){console.log(e)}))},checkSocket:function(e,t){var a=e.commit,r=this.state.socket;if(null==r){var n=localStorage.getItem("token"),i=new WebSocket("ws://127.0.0.1:8000/ws/test/".concat(n));i.onmessage=function(e){console.log(e);var t=JSON.parse(e.data),r=t["message"];console.log(r),a("addAlarm",r)},i.onopen=function(e){console.log(e),a("setSocket",i)},i.onclose=function(e){console.log(e)}}}}});r["a"].use(k["a"]);var I=function(e,t,a){!0===_.state.isLogin?(alert("이미 로그인을 하였습니다."),a("/")):a()},E=function(e,t,a){!0===_.state.isLogin||null!==localStorage.getItem("token")?a():(alert("로그인을 해야합니다."),a("/"))},L=[{path:"/",name:"home",component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste"),a.e("home")]).then(a.bind(null,"bb51"))}},{path:"/login",name:"login",beforeEnter:I,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste"),a.e("article~createArticle~login~mypage~passwordChange~search~signup"),a.e("login")]).then(a.bind(null,"3d00"))}},{path:"/signup",name:"signup",beforeEnter:I,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste"),a.e("article~createArticle~login~mypage~passwordChange~search~signup"),a.e("passwordChange~signup"),a.e("signup")]).then(a.bind(null,"f1df"))}},{path:"/taste",name:"taste",component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste"),a.e("taste")]).then(a.bind(null,"e302"))}},{path:"/mypage",name:"mypage",beforeEnter:E,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste"),a.e("article~createArticle~login~mypage~passwordChange~search~signup"),a.e("article~createArticle~mypage~notifications~search"),a.e("mypage")]).then(a.bind(null,"2730"))}},{path:"/updateuser",name:"updateuser",beforeEnter:E,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste"),a.e("article~createArticle~login~mypage~passwordChange~search~signup"),a.e("article~createArticle~mypage~notifications~search"),a.e("mypage")]).then(a.bind(null,"f0bc"))}},{path:"/articlelist",name:"articlelist",beforeEnter:E,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste"),a.e("articlelist")]).then(a.bind(null,"7467"))}},{path:"/article",name:"article",beforeEnter:E,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste"),a.e("article~createArticle~login~mypage~passwordChange~search~signup"),a.e("article~createArticle~mypage~notifications~search"),a.e("article~createArticle~search"),a.e("article")]).then(a.bind(null,"3e5b"))}},{path:"/createArticle",name:"createArticle",beforeEnter:E,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste"),a.e("article~createArticle~login~mypage~passwordChange~search~signup"),a.e("article~createArticle~mypage~notifications~search"),a.e("article~createArticle~search"),a.e("createArticle")]).then(a.bind(null,"1c7a"))}},{path:"/notifications",name:"notifications",beforeEnter:E,component:function(){return Promise.all([a.e("article~createArticle~mypage~notifications~search"),a.e("notifications")]).then(a.bind(null,"08f3"))}},{path:"/passwordChange",name:"passwordChange",beforeEnter:E,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste"),a.e("article~createArticle~login~mypage~passwordChange~search~signup"),a.e("passwordChange~signup"),a.e("passwordChange")]).then(a.bind(null,"2995"))}},{path:"/search",name:"search",beforeEnter:E,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~passwordChange~search~signup~taste"),a.e("article~createArticle~login~mypage~passwordChange~search~signup"),a.e("article~createArticle~mypage~notifications~search"),a.e("article~createArticle~search"),a.e("search")]).then(a.bind(null,"f5c9"))}}],P=new k["a"]({mode:"history",base:"/",routes:L}),O=P,j=a("f309");r["a"].use(j["a"]);var x=new j["a"]({}),T=a("c9bf"),B=a("28dd"),N=a("00e7"),U=a.n(N);r["a"].config.productionTip=!1,r["a"].use(T["a"],{clientId:"122178100323-91dhrvqu6bm14umnnovogcud8upb4c71.apps.googleusercontent.com",scope:"profile email"}),r["a"].use(B["a"]),r["a"].use(U.a),new r["a"]({router:O,store:_,vuetify:x,beforeCreate:function(){_.dispatch("getUserInfo"),_.dispatch("checkSocket")},render:function(e){return e(C)}}).$mount("#app")},c21c:function(e,t,a){"use strict";var r=a("bc3a"),n=a.n(r);t["a"]=n.a.create({baseURL:"http://i3b307.p.ssafy.io/api",headers:{"Content-type":"application/json"}})}});
//# sourceMappingURL=app.da78a69a.js.map