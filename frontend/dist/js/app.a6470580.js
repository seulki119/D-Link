(function(e){function t(t){for(var i,n,c=t[0],l=t[1],s=t[2],u=0,g=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&g.push(r[n][0]),r[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);p&&p(t);while(g.length)g.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,n=1;n<a.length;n++){var c=a[n];0!==r[c]&&(i=!1)}i&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var i={},n={app:0},r={app:0},o=[];function c(e){return l.p+"js/"+({"article~articlelist~createArticle~home~login~mypage~signup~taste":"article~articlelist~createArticle~home~login~mypage~signup~taste",articlelist:"articlelist","article~createArticle~login~signup":"article~createArticle~login~signup","article~createArticle~mypage~notifications":"article~createArticle~mypage~notifications","article~createArticle":"article~createArticle",article:"article",createArticle:"createArticle","home~login~mypage~signup~taste":"home~login~mypage~signup~taste",login:"login",signup:"signup",mypage:"mypage",home:"home",taste:"taste",notifications:"notifications"}[e]||e)+"."+{"article~articlelist~createArticle~home~login~mypage~signup~taste":"27cfc3bb",articlelist:"359be8fa","article~createArticle~login~signup":"fcbbe14f","article~createArticle~mypage~notifications":"39269bbd","article~createArticle":"5cb8aaa6",article:"59c979eb",createArticle:"d2dd0d5d","home~login~mypage~signup~taste":"5f7cfc60",login:"fc7867fe",signup:"90154957",mypage:"56046431",home:"831f77d2",taste:"e99f303f",notifications:"27c3ba5f"}[e]+".js"}function l(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={"article~articlelist~createArticle~home~login~mypage~signup~taste":1,articlelist:1,"article~createArticle~login~signup":1,"article~createArticle~mypage~notifications":1,"article~createArticle":1,article:1,createArticle:1,"home~login~mypage~signup~taste":1,login:1,signup:1,mypage:1,home:1,taste:1,notifications:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var i="css/"+({"article~articlelist~createArticle~home~login~mypage~signup~taste":"article~articlelist~createArticle~home~login~mypage~signup~taste",articlelist:"articlelist","article~createArticle~login~signup":"article~createArticle~login~signup","article~createArticle~mypage~notifications":"article~createArticle~mypage~notifications","article~createArticle":"article~createArticle",article:"article",createArticle:"createArticle","home~login~mypage~signup~taste":"home~login~mypage~signup~taste",login:"login",signup:"signup",mypage:"mypage",home:"home",taste:"taste",notifications:"notifications"}[e]||e)+"."+{"article~articlelist~createArticle~home~login~mypage~signup~taste":"17f4035a",articlelist:"a329e865","article~createArticle~login~signup":"7638bb48","article~createArticle~mypage~notifications":"c9184e05","article~createArticle":"25fd69ba",article:"8b8342dc",createArticle:"c05f2f2f","home~login~mypage~signup~taste":"85e964b6",login:"1c48c901",signup:"5b5dffac",mypage:"b14678a7",home:"0a99b966",taste:"0a99b966",notifications:"96db1a85"}[e]+".css",r=l.p+i,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var s=o[c],u=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(u===i||u===r))return t()}var g=document.getElementsByTagName("style");for(c=0;c<g.length;c++){s=g[c],u=s.getAttribute("data-href");if(u===i||u===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var i=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete n[e],p.parentNode.removeChild(p),a(o)},p.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){n[e]=0})));var i=r[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,a){i=r[e]=[t,a]}));t.push(i[2]=o);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=c(e);var g=new Error;s=function(t){u.onerror=u.onload=null,clearTimeout(p);var a=r[e];if(0!==a){if(a){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;g.message="Loading chunk "+e+" failed.\n("+i+": "+n+")",g.name="ChunkLoadError",g.type=i,g.request=n,a[1](g)}r[e]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=i,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(a,i,function(t){return e[t]}.bind(null,i));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var g=0;g<s.length;g++)t(s[g]);var p=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[e.isLogin?a("v-app-bar",{staticClass:"mx-auto",attrs:{app:"",color:"indigo",dark:"","max-width":"600","min-width":"300","elevate-on-scroll":""}},[e.canBack?a("v-btn",{staticClass:"mx-auto",attrs:{icon:""},on:{click:function(t){return e.$router.go(-1)}}},[a("v-icon",[e._v("mdi-history")])],1):a("v-btn",{staticClass:"mx-auto",attrs:{icon:"",disabled:""}},[a("v-icon",[e._v("mdi-history")])],1),a("div",{staticClass:"mx-auto",attrs:{icon:""}},[a("v-icon",[e._v("D L I N K")])],1),a("v-btn",{staticClass:"mx-auto",attrs:{icon:"",router:"",to:{name:"notifications"}}},[a("v-badge",{attrs:{color:"red",left:"",overlap:""}},[a("span",{attrs:{slot:"badge"},slot:"badge"},[e._v("3")]),a("v-icon",[e._v("mdi-mail")])],1)],1)],1):e._e(),a("v-main",[a("router-view")],1),a("v-footer",{staticClass:"pa-0",staticStyle:{"background-color":"transparent"},attrs:{app:""}},[e.isLogin?a("v-bottom-navigation",{staticClass:"mx-auto",attrs:{grow:"",color:"teal",dark:"","max-width":"600","min-width":"300"}},[a("v-btn",{attrs:{icon:"",router:"",to:{name:"articlelist"}}},[e._v(" 홈 "),a("v-icon",[e._v("mdi-home")])],1),a("v-btn",{attrs:{icon:""}},[e._v(" 검색 "),a("v-icon",[e._v("mdi-magnify")])],1),a("v-btn",{attrs:{"prepend-icon":"mdi-plus",icon:"",router:"",to:{name:"createArticle"}}},[e._v(" 업로드 "),a("v-icon",[e._v("mdi-plus")])],1),a("v-btn",{attrs:{icon:""}},[e._v(" 컨텐츠 "),a("v-icon",[e._v("mdi-dialpad")])],1),a("v-btn",{attrs:{icon:"",router:"",to:{name:"mypage"}}},[e._v(" 마이페이지 "),a("v-icon",[e._v("mdi-account")])],1)],1):e._e()],1)],1)},r=[],o=(a("b0c0"),a("5530")),c=a("2f62"),l={props:{source:String},data:function(){return{drawer:null,canBack:!0}},computed:Object(o["a"])({},Object(c["d"])(["isLogin"])),beforeUpdate:function(){this.canBack=!0;var e=this.$router.history.current.name,t=this.$router.options.routes;console.log(this.$router.history.current.name);for(var a=0;a<6;a++)if(t[a].name===e)return void(this.canBack=!1)}},s=l,u=a("2877"),g=a("6544"),p=a.n(g),m=a("7496"),f=a("40dc"),h=a("4ca6"),d=a("b81c"),v=a("8336"),b=a("553a"),y=a("132d"),A=a("f6c4"),k=Object(u["a"])(s,n,r,!1,null,null,null),_=k.exports;p()(k,{VApp:m["a"],VAppBar:f["a"],VBadge:h["a"],VBottomNavigation:d["a"],VBtn:v["a"],VFooter:b["a"],VIcon:y["a"],VMain:A["a"]});a("d3b7");var w=a("8c4f"),I=a("c21c");i["a"].use(c["a"]);var S=new c["a"].Store({state:{userInfo:null,isLogin:!1,isLoginError:!1,items:[],item:{}},getters:{userId:function(e){return e.userInfo.pk},userName:function(e){return e.userInfo.username},items:function(e){return e.items},item:function(e){return e.item}},mutations:{loginSuccess:function(e,t){e.isLogin=!0,e.isLoginError=!1,e.userInfo=t},loginError:function(e){e.isLogin=!1,e.isLoginError=!0},logout:function(e){e.isLogin=!1,e.isLoginError=!1,e.userInfo=null,localStorage.removeItem("token")},setItems:function(e,t){e.items=t},setItem:function(e,t){e.item=t}},actions:{login:function(e,t){var a=this;e.dispatch;I["a"].post("/rest-auth/login/",t).then((function(e){var t=e.data.key;localStorage.setItem("token",t),a.dispatch("getUserInfo")})).catch((function(e){console.log(e),alert("이메일과 비밀번호를 확인하세요.")}))},logout:function(e){var t=e.commit;t("logout"),C.push({name:"home"}).catch((function(e){if("NavigationDuplicated"!=e.name)throw e}))},getUserInfo:function(e){var t=e.commit,a=localStorage.getItem("token"),i={headers:{Authorization:"Token ".concat(a)}},n="";I["a"].post("/accounts/user/",n,i).then((function(e){console.log(e);var a={pk:e.data.id,username:e.data.username,email:e.data.email,first_name:e.data.first_name,last_name:e.data.last_name,taste1:e.data.taste1,taste2:e.data.taste2};t("loginSuccess",a),null===a.taste1||null===a.taste2?(alert("주류 취향을 선택하고 d-link를 이용해주세요!"),C.push({name:"taste",params:{username:a.username}})):C.push("articlelist")})).catch((function(e){console.log(e)}))},getArticles:function(e,t){var a=localStorage.getItem("token"),i={headers:{Authorization:"Token ".concat(a)}};I["a"].get(t,i).then((function(t){e.commit("setItems",t.data)})).catch((function(){alert("에러가 발생했습니다.")}))},getArticle:function(e,t){var a=localStorage.getItem("token"),i={headers:{Authorization:"Token ".concat(a)}};I["a"].get(t,i).then((function(t){console.log(t),e.commit("setItem",t.data)})).catch((function(){alert("에러가 발생했습니다.")}))},doScrap:function(e,t){var a=this,i=localStorage.getItem("token"),n={headers:{Authorization:"Token ".concat(i)}};I["a"].get(t.url,n).then((function(e){console.log(e),console.log(t.url),"articlelist"==t.page?a.dispatch("getArticles","/articles"):"article"==t.page&&a.dispatch("getArticle","/articles/".concat(t.id))})).catch((function(e){console.log(e),alert("에러가 발생했습니다.")}))},googleLogin:function(e,t){var a=this;I["a"].post("/accounts/google/",{code:t,redirect_uri:"postmessage"}).then((function(e){console.log(e);var t=e.data.key;localStorage.setItem("token",t),a.dispatch("getUserInfo")})).catch((function(e){console.log(e)}))},kakaoLogin:function(e,t){I["a"].post("/accounts/kakao/",{token:t,redirect_uri:"http://127.0.0.1:8000/accounts/kakao/callback/"}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}}});i["a"].use(w["a"]);var E=function(e,t,a){!0===S.state.isLogin?(alert("이미 로그인을 하였습니다."),a("/")):a()},L=function(e,t,a){!0===S.state.isLogin||null!==localStorage.getItem("token")?a():(alert("로그인을 해야합니다."),a("/"))},P=[{path:"/",name:"home",component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~signup~taste"),a.e("home~login~mypage~signup~taste"),a.e("home")]).then(a.bind(null,"bb51"))}},{path:"/login",name:"login",beforeEnter:E,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~signup~taste"),a.e("home~login~mypage~signup~taste"),a.e("article~createArticle~login~signup"),a.e("login")]).then(a.bind(null,"3d00"))}},{path:"/signup",name:"signup",beforeEnter:E,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~signup~taste"),a.e("home~login~mypage~signup~taste"),a.e("article~createArticle~login~signup"),a.e("signup")]).then(a.bind(null,"f1df"))}},{path:"/taste",name:"taste",component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~signup~taste"),a.e("home~login~mypage~signup~taste"),a.e("taste")]).then(a.bind(null,"e302"))}},{path:"/mypage",name:"mypage",beforeEnter:L,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~signup~taste"),a.e("home~login~mypage~signup~taste"),a.e("article~createArticle~mypage~notifications"),a.e("mypage")]).then(a.bind(null,"2730"))}},{path:"/articlelist",name:"articlelist",beforeEnter:L,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~signup~taste"),a.e("articlelist")]).then(a.bind(null,"7467"))}},{path:"/article",name:"article",beforeEnter:L,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~signup~taste"),a.e("article~createArticle~login~signup"),a.e("article~createArticle~mypage~notifications"),a.e("article~createArticle"),a.e("article")]).then(a.bind(null,"3e5b"))}},{path:"/createArticle",name:"createArticle",beforeEnter:L,component:function(){return Promise.all([a.e("article~articlelist~createArticle~home~login~mypage~signup~taste"),a.e("article~createArticle~login~signup"),a.e("article~createArticle~mypage~notifications"),a.e("article~createArticle"),a.e("createArticle")]).then(a.bind(null,"1c7a"))}},{path:"/notifications",name:"notifications",beforeEnter:L,component:function(){return Promise.all([a.e("article~createArticle~mypage~notifications"),a.e("notifications")]).then(a.bind(null,"08f3"))}}],x=new w["a"]({mode:"history",base:"/",routes:P}),C=x,j=a("f309");i["a"].use(j["a"]);var O=new j["a"]({}),T=a("c9bf"),B=a("28dd");i["a"].config.productionTip=!1,i["a"].use(T["a"],{clientId:"122178100323-91dhrvqu6bm14umnnovogcud8upb4c71.apps.googleusercontent.com",scope:"profile email"}),i["a"].use(B["a"]),new i["a"]({router:C,store:S,vuetify:O,beforeCreate:function(){S.dispatch("getUserInfo")},render:function(e){return e(_)}}).$mount("#app")},c21c:function(e,t,a){"use strict";var i=a("bc3a"),n=a.n(i);t["a"]=n.a.create({baseURL:"http://127.0.0.1:8000",headers:{"Content-type":"application/json"}})}});
//# sourceMappingURL=app.a6470580.js.map